{#**
 * Copyright 2021-2025 Prosopo (UK) Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *#}
{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% block content %}
    {{ form_start(settingsForm) }}

    <div class="card">
        <h3 class="card-header">
            <i class="material-icons">tune</i> {{ 'Procaptcha settings'|trans({}, 'Modules.Prosopoprocaptcha.Admin') }}
        </h3>

        <div class="card-body">
            <div class="form-wrapper prosopoprocaptcha__settings">
                {{ form_widget(settingsForm) }}
            </div>
        </div>

        <div class="card-footer">
            <div class="d-flex justify-content-between align-items-center">
                <a href="{{ path('admin_module_manage') }}" class="btn btn-outline-secondary">
                    <i class="material-icons">arrow_back</i>
                    {{ 'Back to modules list'|trans({}, 'Modules.Prosopoprocaptcha.Admin') }}
                </a>
                <button class="btn btn-primary" id="save-button">
                    {{ 'Save'|trans({}, 'Admin.Actions') }}
                </button>
            </div>
        </div>
    </div>

    {{ form_end(settingsForm) }}

    {% if widgetPreview %}
        <div class="card">
            <h3 class="card-header">
                <i class="material-icons">preview</i> {{ 'Widget preview'|trans({}, 'Modules.Prosopoprocaptcha.Admin') }}
            </h3>

            <div class="card-body">
                <div style="text-align: center;">
                    <p style="margin:10px auto 20px; max-width: 300px;">
                        {{ 'If the credentials are valid, you should be able to complete the captcha below:'|trans({}, 'Modules.Prosopoprocaptcha.Admin') }}
                    </p>
                </div>

                {{ widgetPreview|raw }}
            </div>
        </div>
    {% endif %}

    <style>
        .prosopoprocaptcha__settings {
            label.required::before {
                position: relative;
                font-size: 14px;
                line-height: 12px;
                color: red;
                content: "*";
                font-weight: 400;
                margin-right: 3px;
            }
        }
    </style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ widgetScripts|raw }}
{% endblock %}

